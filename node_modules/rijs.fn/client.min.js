var fn=function(){"use strict";function n(n){return function(t){return t==n}}var t=n;n.fn=function(n){return"function"==typeof n},n.str=function(n){return"string"==typeof n},n.num=function(n){return"number"==typeof n},n.obj=function(n){return"object"==typeof n},n.lit=function(n){return"object"==typeof n&&!(n instanceof Array)},n.bol=function(n){return"boolean"==typeof n},n.truthy=function(n){return 1==!!n},n.falsy=function(n){return 0==!!n},n.arr=function(n){return n instanceof Array},n.null=function(n){return null===n},n.def=function(n){return void 0!==n},n.in=function(n){return function(t){return!!n&&(n.indexOf?~n.indexOf(t):t in n)}},n.promise=function(n){return n instanceof Promise},n.stream=function(n){return!(!n||!n.next)};var e={arr:function(n){return Array.prototype.slice.call(n,0)},obj:function(n){function e(n,e,o){return 0===o&&(n={}),n[t.fn(r)?r(e,o):e[r]]=e,n}var r="id";return 1==arguments.length?(r=n,e):e.apply(this,arguments)}},r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o="undefined"!=typeof window?window:r,u=function n(e,r){var o=arguments.length;return t.str(e)||2!=o?t.str(e)||3!=o?function(n){var u=this||{};return n=u.nodeName||t.fn(u.node)?u:n,n=n.node?n.node():n,n=n.host||n,o>1&&!1===r?n.removeAttribute(e):o>1?(n.setAttribute(e,r),r):n.attributes.getNamedItem(e)&&n.attributes.getNamedItem(e).value}:n(arguments[1],arguments[2]).call(this,arguments[0]):n(arguments[1]).call(this,arguments[0])},i=function(n){return(n||"").toLowerCase()},f=function(n){return t.fn(n)?n:new Function("return "+n)()},c=function(n){return n.name+',[is~="'+n.name+'"]'},a=function(n){return(u("is")(n)||"").split(" ").concat(i(n.nodeName))},l="application/javascript",s=function(n){return t.fn(n.body)},p=function(n){return n.body=f(n.body),n},d=function(n){return function(r){if(!o.console||!console.log.apply)return r;t.arr(arguments[2])&&(arguments[2]=arguments[2].length);var u=e.arr(arguments),i="[log]["+(new Date).toISOString()+"]"+n;return u.unshift(i.grey?i.grey:i),console.log.apply(console,u),r}}("[ri/types/fn]");return function(n){return d("creating"),n.types["application/javascript"]={selector:c,extract:a,header:l,check:s,parse:p},n}}();
